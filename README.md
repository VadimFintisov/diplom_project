# diplom_project
1)	Описание общего принципа защиты скриптового файла
На сегодняшний день программы, написанные на языках сценариев, яв-ляются довольно распространенными компонентами программных комплек-сов автоматизированных систем. Язык сценариев - высокоуровневый язык с командами, описывающими действия, которые необходимо выполнить систе-ме. Сценарий или скрипт — это программа, имеющая дело с готовыми про-граммными компонентами.
Поскольку скрипты представляют из себя не исполняемые, а скорее тек-стовые файлы с набором команд, они сильно подвержены изменениям извне. Потенциальный нарушитель может нарушить работоспособность скрипта, ча-сто даже без какого-либо специального программного обеспечения для этого. И так как скрипты являются частью целых программных комплексов и могут содержать критический код, изменение которого может нарушить работоспо-собность всей системы, их необходимо защищать.
В данной методике рассматривается операционная система специально-го назначения Astra Linux Special Edition, так как она соответствует требова-ниям руководящих документов ФСТЭК России по 3-му классу защищенности СВТ и 2-му уровню контроля отсутствия недекларированных возможностей. Операционная система, в том числе, может использоваться при создании ав-томатизированных систем до класса защищенности 1Б включительно.
Для осуществления защиты программ, написанных на языках сценариев, будет использоваться виртуальная файловая система, которую можно реали-зовать с помощью утилиты «libfuse-dev», которая входит в комплект диска со средствами разработки к операционной системе Astra Linux Special Edition.
Идея защиты заключается в ограничении доступа пользователей к фай-ловой системе путём развертывания виртуальной файловой системы с огра-ниченным доступом к файлам. Помимо этого, будет реализован механизм расчета контрольной суммы по алгоритму, описанному в ГОСТ Р 34.11-2012, с помощью встроенной утилиты «gostsum» и сравнение полученного значения с эталонным значением контрольной суммы, которое разработчик должен предоставить в подписанном виде вместе с файлом скрипта.

2)	Устанавливаемые пакеты: 
Данная методика состоит из двух частей. Первая часть описывает дей-ствия, выполняемые разработчиком программы, написанной на языке сцена-риев, по вычислению контрольной суммы внедряемого скрипта, подписанию её валидным ключом разработчика и экспортированию открытого ключа для проверки подписи и расшифрования файла. Вторая часть описывает действия пользователя скрипта и включает в себя импортирование открытого ключа, предоставленного разработчиком, проверка подписи файла с эталонным зна-чением контрольной суммы, расшифрование этого файла, вычисление кон-трольной суммы полученного скрипта и сравнение её с эталонным значением.
Для нормального функционирования всех утилит необходимо убедить-ся в том, что в операционной системе установлены следующие пакеты:

1)	libfuse-dev – содержит средства разработки файловой системы в пользовательском пространстве;
2)	pkg-config – система для управления флагами компиляции и ссы-лок библиотек, которая работает с командами «automake» и «autoconf»;
3)	gostsum – содержит утилиту для расчета контрольной суммы по алгоритму ГОСТ Р 34.11-2012 файлов «gostsum»;
4)	gnupg – содержит утилиту, необходимую для создания ключей, подписания файлов и проверки подписи «gpg»;
5)	libgost-dev – содержит заголовочные файлы и статические биб-лиотеки, необходимые для компиляции приложений, использующих «libgost»;
6)	libgpgme11 – оберточная библиотека, которая обеспечивает при-кладной интерфейс программирования для языка «C» для доступа к некото-рым функциям «GnuPG»;
7)	libgpgme11-dev – содержит заголовочные и иные файлы, необхо-димые для компиляции программ, использующих библиотеку «libgpgme11».

В случае, если какие-либо из вышеперечисленных пакетов	 отсутствуют в системе, либо установлены с ошибками, необходимо правильно установить их с помощью того же менеджера пакетов, используя при необходимости диск со средствами разработки к операционной системе Astra Linux Special Edition.
Следующим шагом будет реализация методики:
1)	В первую очередь необходимо открыть терминал. В терминале ввести команду для генерации ключа подписи, который будет использован для подписания файла с эталонным значением контрольной суммы:
Gpg --gen-key
 
2)	В списке выбора типа ключа необходимо выбрать вариант (12) GOST R34.10-2012 (sign only), для чего ввести «12» в терминале.
 
3)	В меню выбора срока действия ключа поставить необходимое значение, либо оставить по умолчанию (0), что будет означать неограничен-ный срок действия ключа. После этого будет выведена дата окончания срока действия ключа, либо написано, что срок действия ключа не ограничен. Если данные верны, вводите «y», в противном случае вводите «N» и меняете зна-чение срока действия ключа.
 
4)	В следующем пункте создания ключа необходимо ввести ID поль-зователя. Утилита создаст его из Вашего имени, комментария и адреса элек-тронной почты, которые вы введете. Например: «Ivanov (Ivan Ivanovich) <ivanov@mail.ru>». Соответственно сначала будет предложено ввести Ваше настоящее имя, затем адрес электронной почти и в конце комментарий. После этого на экран будет выведена строка наподобие той, которая была в примере, только с введенными Вами данными. Проверяете правильность ввода. Если какой-то из пунктов введен неверно, его можно изменить, введя соответству-ющие буквы латинского алфавита: «N» – имя, «C» – комментарий, «E» – ад-рес электронной почты. Если же все введено верно, то подтверждаете свой выбор, введя «О». Если вы ходите выйти из программы создания ключа, вве-дите «Q».
